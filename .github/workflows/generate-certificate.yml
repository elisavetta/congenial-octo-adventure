name: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

on:
  issues:
    types: [closed]
  pull_request:
    types: [closed]

jobs:
  certificate:
    if: |
      github.event_name == 'pull_request' && 
      github.event.pull_request.merged == true &&
      contains(github.event.pull_request.labels.*.name, '–æ–¥–æ–±—Ä–µ–Ω–æ')
    runs-on: ubuntu-latest
    steps:
      - name: üìù –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
        env:
          STUDENT_NAME: "${{ github.event.pull_request.user.login }}"
          PROJECT_NAME: "${{ github.event.pull_request.title }}"
          MERGE_DATE: "${{ github.event.pull_request.merged_at }}"
        run: |
          echo "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è $STUDENT_NAME"
          
          # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
          mkdir -p certificates/$STUDENT_NAME
          
          # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ markdown
          cat > certificates/$STUDENT_NAME/CERTIFICATE.md << CERTEOF
# üèÜ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

<div align="center">

## –°–ï–†–¢–ò–§–ò–ö–ê–¢
### –æ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–í—ã–¥–∞–Ω:** $STUDENT_NAME  
**–ó–∞ –ø—Ä–æ–µ–∫—Ç:** $PROJECT_NAME  
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** $MERGE_DATE  

---

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ
**$STUDENT_NAME** —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª –ø—Ä–æ–µ–∫—Ç **"$PROJECT_NAME"** –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –º–µ–Ω—Ç–æ—Ä–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

### –ú–µ–Ω—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞:
- @MENTOR1_GITHUB
- @MENTOR2_GITHUB

### –ù–∞–≤—ã–∫–∏, –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ best practices
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ–≤—å—é –∫–æ–¥–∞
- –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ —Ñ–∏–¥–±—ç–∫—É

---

**–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ:**  
https://github.com/${{ github.repository }}/tree/main/portfolio/$STUDENT_NAME

**–°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:**  
${{ github.event.pull_request.body }}

---

<div style="margin-top: 50px;">

**–ü–æ–¥–ø–∏—Å—å –º–µ–Ω—Ç–æ—Ä–æ–≤:**  
_____________________  
@MENTOR1_GITHUB  

_____________________  
@MENTOR2_GITHUB  

</div>

</div>

*–≠—Ç–æ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–∞.*
CERTEOF
          
          echo "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–æ–∑–¥–∞–Ω: certificates/$STUDENT_NAME/CERTIFICATE.md"

      - name: üì§ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "–î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è ${{ github.event.pull_request.user.login }}"
          file_pattern: 'certificates/**'
          commit_user_name: 'GitHub Actions'
          commit_user_email: 'actions@github.com'
